<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap');

        *{
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
        }
        :root{
            /* Paleta de cores */
            --cor-backgroundPrincipal: #CFCBC4;
            --cor-NavRodape: #2A2E30;
            --cor-botoes: #E6B86A;
            --cor-titulos: #3F4447;
            --cor-texto: #6B4E3D;
            --cor-bordas: #8A8176;
            /* Fontes */
            --font-titulo: "Open Sans", sans-serif;
            --font-textos: "Montserrat", sans-serif;
            --font-assunto: "Lora", serif;
        }
        body{
            font-family: var(--font-textos);
            background-color: var(--cor-backgroundPrincipal);
        }
        header{
            text-align: center;

        }
        main{
            display: flex;
            flex-wrap: wrap;
            margin: auto;
            justify-content: center;
        }
        img{
            margin: auto;
            width: 100%;
        }
        ul{
            list-style-type: none;
        }
        li{
            font-weight: bold;
        }
        main #posts-rotina-invisivel #post-sub-titulo{
            
        }
        main #posts-rotina-invisivel #post-do-dia{
            margin: auto;
            width: 90vw;
        }
        main #posts-rotina-invisivel #post-do-dia #post-do-dia-imagem{
            margin: auto;
            width: 90vw;
        }
        main #posts-rotina-invisivel-form{
            
        }
        main #posts-rotina-invisivel-form #post-do-dia-form{
            display: flex;
            flex-wrap: wrap;
            width: 90vw;
            background-color: var(--cor-backgroundPrincipal);
            margin-top: 20px;
            margin-bottom: 20px;
        }
        img{
            padding-top: 10px;
        }
        .none{
            display: none;
        }
       main #posts-rotina-invisivel-form #post-do-dia-form #post-form{
        display: flex;
        flex-wrap: wrap;
        justify-content: start;
        background-color: var(--cor-backgroundPrincipal);
        width: 45vw;
        margin: auto;
        text-align: center;
       }
       main #posts-rotina-invisivel-form #post-do-dia-form #post-form #titulo-postagem{
        width: 45vw;
        margin-bottom: 5px;
        text-align: center;
       }
       main #posts-rotina-invisivel-form #post-do-dia-form #post-form #conteudo-postagem{
        width: 45vw;
        text-align: center;
       }
       main #posts-rotina-invisivel-form #post-do-dia-form #post-form-resultado{
        background-color: white;
        width: 45vw;
        min-height: 100px;
        margin: 0px auto auto auto;
        text-align: center;
        border: solid 1px var(--cor-NavRodape);
       }
       #post-btn, #btn-postagem{
        margin: 10px;
        padding: 5px;
        border-radius: 8px;
        background-color: var(--cor-botoes);
        color: var(--cor-texto);
        font-weight: bold;
       }
        
       
    </style>
</head>
<body>
    <header>
        <h1 id="post-titulo">Rotina Invisível</h1>
    </header>
    <main>
        <section id="posts-rotina-invisivel">
                <div id="post-do-dia">
                    <div id="post-do-dia-imagem">
                        <h2 id="post-sub-titulo">
                            Vivemos cercados por momentos que não fazem barulho
                        </h2>
                        <img src="banner.png" alt="post">
                    </div>
                <p>
                    A cidade acorda antes de nós percebermos.
                    A padaria abre.
                    O chão ainda está molhado.
                    Alguém espera o ônibus.
                    A luz chega devagar entre os prédios.
                </p>
                <p>Nada disso parece importante…</p>
                <p>Mas é nesse silêncio que a vida realmente acontece.</p>
                <p>Rotina Invisível é um espaço para observar o que passa despercebido:</p>
                <p>
                    Aqui, o extraordinário não está no raro…
                </p>
                <button id="post-btn">Postar um Comentário</button>
                </div>
        </section>
        <!--  -->
        <section id="posts-rotina-invisivel-form">
             <div id="post-do-dia-form" class="none">
                    <!-- essa div aqui vai ficar com display none,que será chamada pelo click de post-btn -->
                    <form id="post-form">
                        <input type="text" id="titulo-postagem" placeholder="Título da Postagem">
                        <textarea name="Assunto-da-Postagem" id="conteudo-postagem" placeholder="Assunto da Postagem"></textarea>
                        <input type="submit" value="Publicar" id="btn-postagem">
                    </form>
                    <div id="post-form-resultado">
                    </div>
                </div>
        </section>
    </main>
    
    <script>

const form = document.querySelector("#post-form");
const titulo = document.querySelector("#titulo-postagem");
const conteudo = document.querySelector("#conteudo-postagem");
const btnDisplay = document.querySelector("#post-btn");
const btnPostagem = document.querySelector("#btn-postagem");
const resultadoForm = document.querySelector("#post-form-resultado");
const sectionForm = document.querySelector("#posts-rotina-invisivel-form");

        document.addEventListener("DOMContentLoaded", () => {
            sectionForm.classList.add("none");
        })
        
        btnDisplay.addEventListener("click", () => {
            sectionForm.classList.remove("none");
        })
        // Enviar post 
        form.addEventListener("submit", event => {
        event.preventDefault();
        const data = {
            title: titulo.value,
            body: conteudo.value,
            userId: 1
        }
        fetch("https://jsonplaceholder.typicode.com/posts", {
            method: "POST",
            headers: {"Content-type": "application/json; charset=UTF-8"},
            body: JSON.stringify(data)
         })
         .then(response => response.json())
         .then(data => {
            // Renderizar post
            // console.log(data);
                resultadoForm.textContent = "";
                resultadoForm.insertAdjacentHTML("beforeend", `
                <h2>${data.title}</h2>
                <p id="p-break">${data.body}</p>
                `);
                
         });

    });
    </script>
</body>
</html>